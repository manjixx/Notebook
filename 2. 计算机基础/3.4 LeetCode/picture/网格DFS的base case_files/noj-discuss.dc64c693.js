(window.nojMonomainwebpackJsonpproduction=window.nojMonomainwebpackJsonpproduction||[]).push([[114],{"+Aeu":function(e,t,n){"use strict";var a=n("zF28");n.d(t,"m",(function(){return a.a})),n.d(t,"n",(function(){return a.c})),n.d(t,"o",(function(){return a.d})),n.d(t,"p",(function(){return a.e})),n.d(t,"q",(function(){return a.f}));var r=n("wbrp");n.d(t,"a",(function(){return r.c})),n.d(t,"b",(function(){return r.d})),n.d(t,"c",(function(){return r.e})),n.d(t,"e",(function(){return r.g})),n.d(t,"f",(function(){return r.h}));var i=n("A83I");n.d(t,"d",(function(){return i.b}));var o=n("W4BP");n.d(t,"g",(function(){return o.a})),n.d(t,"h",(function(){return o.b})),n.d(t,"i",(function(){return o.c})),n.d(t,"j",(function(){return o.d})),n.d(t,"k",(function(){return o.e})),n.d(t,"l",(function(){return o.f}))},"+gd7":function(e,t,n){"use strict";n.d(t,"a",(function(){return N}));var a=n("D57K"),r=n("ERkP"),i=n.n(r),o=n("YnR9"),c=n("1QlS"),u=n("q+Tr"),d=n("WWwk"),s=n("ttV/"),l=n("ildc"),p=n("5ZzG"),f=n("0FzZ"),b=n("zF28"),O=n("fgAA"),j=n("xqpu"),y=n("OJn1"),g=n("uhKY"),m=n("Aw0H"),_=n("AbD5"),h=n("M+N8"),v=n("cPtI"),w=n("VxrX"),x=n("8SGJ"),A=o.a.main.paths,k=i.a.memo((function(e){var t=e.questionAuthorSuffix,n=void 0===t?"\u697c\u4e3b":t,a=e.questionAuthorSlug,o=e.userSlug,c=e.name,u=e.avatar,d=e.anonymous,s=e.createdAt,p=e.picked,f=""===o,b=Object(r.useContext)(j.d).isAdmin,k=Object(y.a)(s),E=b&&d?c+"\uff08\u533f\u540d\u53d1\u5e03\uff09":c,S=!(!a||a!==o),C=Object(r.useCallback)((function(e){e.preventDefault(),e.stopPropagation()}),[]),I=Object(r.useCallback)((function(e){w.a.discuss.discussClickAvatarOrName(),e.stopPropagation(),e.preventDefault(),f||(window.location.href=A.publicProfile.home({userSlug:o}))}),[o,f]);return i.a.createElement(x.c,{onClick:C},i.a.createElement(h.a,{userSlug:o},i.a.createElement(x.d,{onClick:I,isMobile:Object(l.q)()},!Object(l.q)()&&i.a.createElement(x.a,{src:Object(g.b)(u,22)}),i.a.createElement(m.a,{shouldStrip:f},i.a.createElement("a",{href:A.publicProfile.home({userSlug:o})},i.a.createElement(v.a,{userSlug:o,realName:E,className:Object(x.h)(Object(l.q)()),defaultColor:O.a.grey(5)}),S&&!f&&i.a.createElement(x.e,null," \xb7 ",n))))),i.a.createElement(x.b,{isMobile:Object(l.q)()},p&&!Object(l.q)()&&i.a.createElement(_.a,{kind:"green",size:"xs",content:"\u7cbe\u9009"}),i.a.createElement(x.f,{isMobile:Object(l.q)()},Object(l.q)()?i.a.createElement(i.a.Fragment,null,"\xa0\xb7\xa0"):null,k)))})),E=n("X7IW"),S=n("lDJ/"),C=n("y9R/"),I=n("PbXi"),R=o.a.main.paths,q=i.a.memo((function(e){var t=e.content,n=e.isAnonymous,o=e.author,c=e.isDeleted,u=e.uuid,s=e.fetchAnswerPageInfo,l=Object(a.__read)(Object(r.useState)(""),2),p=l[0],f=l[1];Object(d.a)((function(){var e=S.b.render(t),n=document.createElement("div");n.innerHTML=e,f(Object(C.b)(n,[]))}),[t]);var b=Object(r.useCallback)((function(){null===s||void 0===s||s({answerId:u,effects:[]})}),[s,u]);return i.a.createElement(I.b,null,c?i.a.createElement(I.e,null,i.a.createElement(I.f,{size:18}),i.a.createElement(I.c,null,"\u8be5\u5185\u5bb9\u5df2\u88ab\u5220\u9664")):i.a.createElement(I.d,{clickable:!!s,onClick:b},i.a.createElement(h.a,{userSlug:o.slug},i.a.createElement(m.a,{shouldStrip:n},i.a.createElement("a",{href:R.publicProfile.home({userSlug:o.slug})},i.a.createElement(I.a,{src:o.avatar})))),i.a.createElement(I.c,null,p)))})),P=n("2yfB"),D=n("W4BP"),T=o.a.main.paths;function F(e){var t=e.questionId,n=e.answerId;return T.discuss.viewShare({discussId:t,viewId:n})}var N=i.a.memo((function(e){var t=e.onEdit,n=e.onReply,o=e.onAddReply,O=e.fetchAnswerPageInfo,j=e.getCopyLink,y=void 0===j?F:j,g=e.questionAuthorSlug,m=e.questionAuthorSuffix,_=e.forceExpanded,h=void 0!==_&&_,v=e.replyToVisible,w=void 0!==v&&v,x=e.isReplyExpanded,A=void 0!==x&&x,S=e.disabledOperations,C=Object(a.__rest)(e,["onEdit","onReply","onAddReply","fetchAnswerPageInfo","getCopyLink","questionAuthorSlug","questionAuthorSuffix","forceExpanded","replyToVisible","isReplyExpanded","disabledOperations"]),I=C.uuid,R=C.createdAt,T=C.content,N=C.author,B=N.name,z=N.slug,M=N.avatar,W=C.parent,Q=C.picked,L=C.replyTo,G=C.isAnonymous,V=Object(a.__read)(Object(r.useState)("default"),2),H=V[0],K=V[1],X=Object(a.__read)(Object(c.a)(!1),3),J=X[0],U=X[1],Y=X[2],Z=Object(r.useRef)(null),$=Object(u.a)(Z),ee=Object(a.__read)(Object(r.useMemo)((function(){return[t&&function(){return t(I)},o&&function(){return o(I,B)}]}),[t,I,o,B]),2),te=ee[0],ne=ee[1],ae=Object(b.b)({answer:C,onEdit:te,onReply:n,isReplyExpanded:A});Object(d.a)((function(){if(Z.current&&$){var e=Z.current.getBoundingClientRect().height<P.e?"default":h?"expanded":"collapsed";K(e)}}),[T,h,$]);var re=Object(r.useCallback)((function(){"collapsed"===H&&K("expanded")}),[H]),ie=Object(r.useCallback)((function(){"expanded"===H&&K("collapsed")}),[H]),oe=Object(s.a)([C],(function(){return Object(D.d)(B,y({questionId:W.uuid,answerId:I}))})),ce=Object(r.useCallback)((function(e){e.stopPropagation(),oe(e)}),[oe]);return i.a.createElement(i.a.Fragment,null,i.a.createElement(k,{questionAuthorSuffix:m,questionAuthorSlug:g,userSlug:z,name:B,avatar:M,anonymous:G,createdAt:R,picked:Q}),L&&w&&i.a.createElement(q,Object(a.__assign)({},L,{fetchAnswerPageInfo:O})),i.a.createElement(P.f,{ref:Z,onClick:re,collapsed:"collapsed"===H,isMobile:Object(l.q)()},"collapsed"===H&&i.a.createElement(P.g,{onMouseEnter:U,onMouseLeave:Y}),i.a.createElement(P.d,{onCopy:ce,isMobile:Object(l.q)()},T)),i.a.createElement(P.c,{isMobile:Object(l.q)()},i.a.createElement(E.a,Object(a.__assign)({},ae,{disabledOperation:S})),"default"!==H&&i.a.createElement(P.a,{onClick:"expanded"===H?ie:re,highlighted:J},i.a.createElement(p.a,{type:"expanded"===H?"angle-up":"angle-down"}),"expanded"===H?"\u6536\u8d77\u5168\u6587":"\u5c55\u5f00\u5168\u6587"),!Object(l.q)()&&ne&&i.a.createElement(P.b,{onClick:ne,kind:"transparent",prefixIcon:i.a.createElement(f.a,null)},"\u6dfb\u52a0\u56de\u590d")))}))},"2yfB":function(e,t,n){"use strict";n.d(t,"d",(function(){return p})),n.d(t,"c",(function(){return f})),n.d(t,"g",(function(){return b})),n.d(t,"e",(function(){return O})),n.d(t,"f",(function(){return j})),n.d(t,"a",(function(){return y})),n.d(t,"i",(function(){return g})),n.d(t,"b",(function(){return m})),n.d(t,"j",(function(){return _})),n.d(t,"k",(function(){return h})),n.d(t,"h",(function(){return v}));var a,r,i,o,c=n("f7k3"),u=n("TMWK"),d=n("fgAA"),s=n("lDJ/"),l=n("/NrN"),p=Object(u.a)(s.a,{target:"e1wiyo5l0"})({padding:0,marginTop:"6px"},(function(e){return e.isMobile?{marginTop:"10px"}:[]}),"label:AnswerMarkdownContent;"),f=Object(u.a)("div",{target:"e1wiyo5l1"})({display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px 0px 16px 0px",borderTop:"1px solid "+d.b.DividerSecondary(),"> div:first-of-type":{marginLeft:"-9px"}},(function(e){return e.isMobile?{paddingTop:"10px",borderTop:"none"}:{}}),"label:AnswerDetailOperation;"),b=Object(u.a)("div",{target:"e1wiyo5l2"})(((a={position:"absolute",top:0,right:0,bottom:0,left:0,zIndex:1,background:"linear-gradient(to bottom, "+d.a.grey(0,0)+" 0%,\n                                          "+d.a.grey(0,0)+" 70%,\n                                          "+d.a.grey(0)+" 100%)",cursor:"pointer"})[d.c]={background:"linear-gradient(to bottom, "+d.a.grey(0,0)+" 0%,\n                                            "+d.a.grey(0,0)+" 70%,\n                                            "+d.a.grey(3)+" 100%)"},a),"label:Mask;"),O=2e4,j=Object(u.a)("div",{target:"e1wiyo5l3"})({position:"relative",width:"100%",overflow:"hidden",marginBottom:"12px"},(function(e){return e.collapsed?{maxHeight:O+"px"}:{}}),(function(e){return e.isMobile?{marginBottom:"0px"}:{}}),"label:MarkdownWrapper;"),y=Object(u.a)("div",{target:"e1wiyo5l4"})((function(e){return{fontSize:"12px",cursor:"pointer",transition:"all 0.3s ease",color:e.highlighted?d.a.grey(6):d.a.grey(5),":hover":{color:d.a.grey(5)},svg:{marginRight:"5px"}}}),"label:Action;"),g=Object(u.a)("div",{target:"e1wiyo5l5"})({paddingBottom:"16px"},"label:RepliesContainer;"),m=Object(u.a)(l.a,{target:"e1wiyo5l6"})({color:d.b.BaseGrey6()},"label:AddReplyButton;"),_=Object(u.a)("div",{target:"e1wiyo5l7"})(((r={padding:"8px 16px 0px 16px",background:d.b.BaseGrey1(),borderRadius:"7px",":not(:last-of-type)":{marginBottom:"12px"}})[""+m]={transition:"opacity .3s",opacity:0},r[":hover"]=((i={})[""+m]={opacity:1},i),r),"label:ReplyContainer;"),h=Object(c.b)({".ant-pagination":{".ant-pagination-item":{background:d.b.FillTertiary(),borderRadius:"5px",border:"none",fontSize:"12px",lineHeight:"24px",minWidth:"24px",height:"24px",a:{color:d.b.LabelSecondary()}},".ant-pagination-next, .ant-pagination-prev":{fontSize:"12px",lineHeight:"24px",minWidth:"24px",height:"24px",borderRadius:"5px",".ant-pagination-item-link":{background:d.b.FillTertiary(),border:"none"},button:{color:d.b.LabelSecondary()}},".ant-pagination-item-active":(o={background:d.b.White(),boxShadow:"0px 1px 2px "+d.b.fixed.Black(.1)+", 0px 2px 8px "+d.b.fixed.Black(.08)},o[d.c]={background:d.b.BaseGrey5()},o),".ant-pagination-item-ellipsis":{color:d.b.BaseGrey7()}}},"label:antdPaginationOverride;"),v=Object(u.a)("div",{target:"e1wiyo5l8"})(h,{display:"flex",alignItems:"center",justifyContent:"space-between",marginTop:"12px","> button":{color:d.b.BaseGrey5()}},"label:PaginationContainer;")},"8SGJ":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"f",(function(){return p})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return b})),n.d(t,"g",(function(){return O})),n.d(t,"h",(function(){return j})),n.d(t,"e",(function(){return y}));var a=n("D57K"),r=n("XKjd"),i=n("TMWK"),o=n("fgAA"),c=n("pqRN"),u=n("/fpG"),d=n("CkJS"),s=Object(i.a)(u.a,{target:"e64ett70"})({flexShrink:0,flexGrow:0,width:"22px",height:"22px",borderRadius:"100%",border:0,background:o.a.grey(2),marginRight:"10px",cursor:"pointer"},"label:Avatar;"),l=Object(i.a)("div",{target:"e64ett71"})({marginLeft:"auto",display:"flex",alignItems:"center"},(function(e){return e.isMobile?{marginLeft:"unset"}:{}}),"label:InfoWrapper;"),p=Object(i.a)("div",{target:"e64ett72"})({padding:0,marginLeft:"12px",color:o.b.BaseGrey5()},(function(e){return e.isMobile?{marginLeft:"0px",fontSize:"12px",lineHeight:"16px",color:o.b.BaseGrey6()}:{}}),"label:StyledPublishDate;"),f=Object(i.a)("div",{target:"e64ett73"})({display:"flex",alignItems:"center",height:"24px"},"label:MetaData;"),b=Object(i.a)("div",{target:"e64ett74"})({display:"flex",alignItems:"center"},(function(e){return e.isMobile?{a:{display:"inline-flex"}}:{}}),"label:ProfileWrapper;"),O=function(e){return Object(r.a)({"> span:first-of-type":Object(a.__assign)({maxWidth:e?"35px":"110px",":hover":{textDecoration:"underline",color:o.a.grey(8)}},c.l)})},j=function(e){return Object(r.a)(O(e),{"> span:first-of-type":{color:o.b.BaseGrey6(),maxWidth:"150px"}},e?{span:{fontSize:"12px",lineHeight:"16px"}}:{})},y=Object(i.a)("span",{target:"e64ett75"})(d.a.paragraph.md,{color:o.b.BaseGrey5()},"label:QuestionAuthor;")},A83I:function(e,t,n){"use strict";var a;n.d(t,"b",(function(){return a})),function(e){e.Reaction="Reaction",e.Comment="Comment",e.Share="Share",e.Favor="Favor",e.FeatureRequest="FeatureRequest",e.Reply="Reply",e.AllExtra="AllExtra"}(a||(a={}))},"D4d+":function(e,t,n){"use strict";n.d(t,"a",(function(){return A}));var a=n("D57K"),r=n("3I8i"),i=n("K/af"),o=n("ERkP"),c=n.n(o),u=n("ildc"),d=n("+gd7"),s=n("iXo+"),l=n("wbrp"),p=n("lGXO"),f=(n("42uY"),n("/NrN")),b=n("UmVR"),O=n("cjLm"),j=n("zCf4"),y=n("YnR9"),g=n("Tndj"),m=y.a.main.paths;function _(e){return!!Object(j.j)().viewId?c.a.createElement(v,Object(a.__assign)({},e)):c.a.createElement(h,Object(a.__assign)({},e))}function h(e){var t=e.author,n=e.totalRepliesNum,r=e.uuid,i=e.onAddReply,u=e.fetchAnswerPageInfo,s=t.name,p=Object(o.useCallback)((function(){0===n?i(r,s):u({answerId:r,effects:[l.a.ExpandReply]})}),[u,i,n,s,r]);return c.a.createElement(d.a,Object(a.__assign)({},e,{onReply:p}))}function v(e){var t=e.author,n=e.totalRepliesNum,r=e.uuid,i=e.onAddReply,u=e.fetchAnswerPageInfo,s=t.name,p=Object(j.j)().discussId,f=Object(o.useContext)(g.a),b=Object(j.h)(),O=Object(o.useCallback)((function(){f(),b.replace(m.discuss.discussionDetail({discussId:p})),u({answerId:r,effects:0===n?[]:[l.a.ExpandReply]}),0===n&&i(r,s)}),[b,p,f,u,i,n,s,r]);return c.a.createElement(d.a,Object(a.__assign)({},e,{onReply:O}))}var w=n("2yfB"),x=c.a.memo((function(e){var t=e.isExpanded,n=e.questionAuthorSlug,r=e.questionAuthorSuffix,u=e.answerId,d=e.onCollapse,s=e.onEdit,j=e.onAddReply,y=e.fetchAnswerPageInfo,g=e.disabledOperations,m=Object(a.__read)(Object(i.a)(l.f,{scope:u}),2),h=m[0],v=h.loading,x=h.replies,A=h.totalNum,k=h.pageNum,E=m[1],S=E.fetchReplies,C=E.setPageNum,I=Object(o.useRef)(null),R=Object(o.useCallback)((function(e){C(e),S({qaAnswerUuid:u})}),[C,S,u]),q=Object(o.useCallback)((function(e,t){j(e,t,(function(e){y({answerId:e,effects:[]})}))}),[j,y]);return c.a.createElement(O.a,{isActive:t&&!v,contentRef:I},c.a.createElement(w.i,{ref:I},x.map((function(e){return c.a.createElement(w.j,{key:e.uuid},c.a.createElement(_,Object(a.__assign)({},e,{questionAuthorSlug:n,questionAuthorSuffix:r,onEdit:s,onAddReply:q,fetchAnswerPageInfo:y,disabledOperations:g})))})),A>5&&c.a.createElement(w.h,null,c.a.createElement(p.a,{total:A,pageSize:5,current:k,onChange:R,showSizeChanger:!1}),c.a.createElement(f.a,{kind:"transparent",size:"sm",prefixIcon:c.a.createElement(b.a,null),onClick:d},"\u6536\u8d77"))))})),A=c.a.memo((function(e){var t=e.questionAuthorSuffix,n=e.questionAuthorSlug,p=e.detail,f=e.onEdit,b=e.onReply,O=e.fetchAnswerPageInfo,j=e.getCopyLink,y=e.forceExpanded,g=e.scrollingElementRef,m=e.disabledOperations,_=p.uuid,h=p.totalRepliesNum,v=p.author.name,w=Object(a.__read)(Object(i.a)(l.f,{scope:_}),2)[1],A=w.fetchReplies,k=w.setPageNum,E=Object(a.__read)(Object(i.a)(l.g),1)[0].afterScrollEffects,S=Object(a.__read)(Object(o.useState)(!1),2),C=S[0],I=S[1],R=Object(o.useCallback)((function(){k(1),A({qaAnswerUuid:_}),I(!0)}),[k,A,_]),q=Object(o.useCallback)((function(){C?I(!1):h>0?(I(!0),A({qaAnswerUuid:_})):b(_,v,R)}),[C,h,_,A,b,v,R]),P=Object(o.useCallback)((function(e,t){b(e,t,R)}),[b,R]),D=Object(o.useCallback)((function(){E.includes(l.a.ExpandReply)&&(I(!0),A({qaAnswerUuid:_}))}),[E,_,A]),T=function(e,t,n){var c,u,d=Object(o.useRef)(null),p=Object(a.__read)(Object(i.a)(l.g),2),f=p[0].scrollIntoViewAnswerId,b=p[1].setScrollIntoViewAnswerId,O=Object(o.useRef)(t),j=null!==(u=null!==(c=null===n||void 0===n?void 0:n.current)&&void 0!==c?c:window.document.scrollingElement)&&void 0!==u?u:window.document.documentElement;O.current!==t&&(O.current=t);return Object(o.useEffect)((function(){var t=d.current;if(e===f&&t&&j){var n=function(e,t){var n=e.getBoundingClientRect().top,a=e.clientHeight,r=t.clientHeight,i=t.scrollTop;return Math.max(0,a>r/2-10?n+i-10:n+i-r/2+a+10)}(t,j);r.a.timeline().add({targets:j,scrollTop:n,duration:300,easing:"linear",complete:function(){O.current()}}).add({targets:t,duration:3600,begin:function(){t.classList.add(s.b)},complete:function(){b(null),t.classList.remove(s.b)}})}}),[j,e,f,b]),Object(o.useEffect)((function(){return function(){var e;null===(e=d.current)||void 0===e||e.classList.remove(s.b),r.a.remove([j,d.current])}}),[j]),d}(_,D,g),F=Object(o.useCallback)((function(){I(!1)}),[]);return c.a.createElement(s.a,{ref:T,isMobile:Object(u.q)()},c.a.createElement(d.a,Object(a.__assign)({},p,{onEdit:f,onReply:q,onAddReply:P,fetchAnswerPageInfo:O,getCopyLink:j,questionAuthorSuffix:t,questionAuthorSlug:n,forceExpanded:y,replyToVisible:!0,isReplyExpanded:C,disabledOperations:m})),c.a.createElement(x,{isExpanded:C,questionAuthorSlug:n,questionAuthorSuffix:t,answerId:_,onCollapse:F,onEdit:f,onAddReply:b,fetchAnswerPageInfo:O,disabledOperations:m}))}))},HOg7:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n("3dHC"),r=n.n(a),i=n("1xil"),o=n.n(i),c=n("lKOy"),u=n.n(c),d=n("ERkP"),s=n("jWBs");function l(e){var t=Object(s.a)(),n=t.usernameConfigs,a=t.getUsernameConfigs,i=r()(o()(e.map((function(e){var t=e.author,n=e.replyTo;return[t.slug,null===n||void 0===n?void 0:n.author.slug]})))),c=u()(i,Object.keys(n));Object(d.useEffect)((function(){a(c)}),[a,c])}},PbXi:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"f",(function(){return p})),n.d(t,"a",(function(){return f}));var a,r=n("TMWK"),i=n("fgAA"),o=n("pqRN"),c=n("Jmah"),u=Object(r.a)("div",{target:"ecqcqxb0"})({display:"inline-flex",minWidth:"200px",maxWidth:"400px",background:i.b.FillQuaternary(),marginTop:"12px",borderRadius:"7px"},"label:Container;"),d=Object(r.a)("div",{target:"ecqcqxb1"})(Object(o.h)(),{textAlign:"left",flex:"1 1 auto",fontSize:"13px",lineHeight:"20px",color:i.b.BaseGrey6()},"label:Content;"),s=Object(r.a)("div",{target:"ecqcqxb2"})(((a={width:"100%",display:"flex",alignItems:"center",padding:"8px"})[""+d]={color:i.b.BaseGrey5()},a),"label:DeleteContainer;"),l=Object(r.a)("div",{target:"ecqcqxb3"})({width:"100%",padding:"8px",display:"inline-flex"},(function(e){return{cursor:e.clickable?"pointer":"default"}}),"label:ContentContainer;"),p=Object(r.a)(c.a,{target:"ecqcqxb4"})({flex:"0 0 auto",marginRight:"10px",color:i.b.BaseGrey5()},"label:StyledIconSlash;"),f=Object(r.a)("img",{target:"ecqcqxb5"})({flex:"0 0 auto",width:"22px",height:"22px",borderRadius:"100%",marginRight:"8px"},"label:Avatar;")},Po8h:function(e,t,n){"use strict";n.d(t,"d",(function(){return u})),n.d(t,"f",(function(){return d})),n.d(t,"e",(function(){return s})),n.d(t,"g",(function(){return l})),n.d(t,"h",(function(){return p})),n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return O}));var a,r=n("XKjd"),i=n("TMWK"),o=n("fgAA"),c=n("/NrN"),u=Object(i.a)(c.a,{target:"es3xzeu0"})({margin:"0 12px",color:o.b.BaseGrey6(),fontSize:"14px","> svg":{width:"20px",height:"20px"}},"label:OperationButton;"),d=Object(i.a)("div",{target:"es3xzeu1"})({marginLeft:"10px"},"label:StyledReactionV2Wrapper;"),s=Object(i.a)("div",{target:"es3xzeu2"})({display:"flex",alignItems:"center"},(function(e){var t=e.loose;return void 0!==t&&t?{"> *:last-child":{marginLeft:"auto"}}:{}}),"label:OperationWrapper;"),l=Object(r.a)({visibility:"hidden"}),p=Object(r.a)(((a={position:"sticky",bottom:0,backgroundColor:o.b.Layer1(),padding:"11px 16px",borderTop:"1px solid "+o.b.Border2()})[o.c]={backgroundColor:o.b.LayerBg()},a)),f=Object(i.a)("div",{target:"es3xzeu3"})({display:"flex",'&[data-hidden="true"]':{opacity:0},transition:"opacity 0.4s"},"label:HiddenWrapper;"),b=Object(i.a)("div",{target:"es3xzeu4"})({display:"flex"},"label:Flex;"),O=Object(i.a)("div",{target:"es3xzeu5"})({marginLeft:"12px",display:"flex",alignItems:"center"},"label:ExtraButtonContainer;")},"Q/bO":function(e,t,n){"use strict";n.d(t,"a",(function(){return P}));var a,r=n("D57K"),i=n("DuHN"),o=(n("IJu9"),n("K/af")),c=n("ERkP"),u=n.n(c),d=n("ildc"),s=n("ZRwv"),l=n("1QlS"),p=n("xqpu"),f=n("u8N8"),b=n("5ZzG"),O=n("nPqx"),j=n("qYXo"),y=n("Y9Gt"),g=n("htYk"),m=n("u+Aj"),_=n("/usP"),h=n("87bA"),v=n("34li"),w=n("TMWK"),x=n("fgAA"),A=n("WfVQ"),k=n("/NrN"),E=Object(w.a)(k.a,{target:"erjzblc0"})({color:x.b.BaseGrey6()},"label:EllipsisButton;"),S=Object(w.a)(A.a,{target:"erjzblc2"})({width:"100%"},"label:ReasonArea;"),C=Object(w.a)("div",{target:"erjzblc3"})({display:"flex",flexDirection:"column"},"label:Container;"),I=Object(w.a)(k.a,{target:"erjzblc4"})({fontSize:"13px",justifyContent:"left",borderRadius:0,padding:"5px 6px","&:not(:first-child)":{borderTop:"1px solid "+x.a.grey(2)}},"label:StyledButton;"),R=n("A83I"),q=((a={})[v.q.Answer]="\u8ba8\u8bba",a[v.q.Question]="\u8ba8\u8bba",a[v.q.Solution]="\u9898\u89e3",a[v.q.Undefined]="\u6587\u7ae0",a),P=u.a.memo((function(e){var t=Object(r.__read)(Object(o.a)(s.a),1)[0].globalData,n=Object(r.__read)(Object(l.a)(!1),3),a=n[0],w=n[1],x=n[2],A=Object(r.__read)(Object(l.a)(!1),3),k=A[0],P=A[1],D=A[2],T=Object(r.__read)(Object(l.a)(!1),3),F=T[0],N=T[1],B=T[2],z=Object(r.__read)(Object(l.a)(!1),3),M=z[0],W=z[1],Q=z[2],L=Object(r.__read)(Object(l.a)(!1),3),G=L[0],V=L[1],H=L[2],K=Object(r.__read)(Object(l.a)(!1),3),X=K[0],J=K[1],U=K[2],Y=Object(c.useRef)(null),Z=Object(c.useContext)(p.d),$=function(e,t,n,a,i){var o;return Object(r.__spread)(e.onEdit&&!Object(d.q)()?[{key:"edit",text:"\u7f16\u8f91",onClick:e.onEdit,selectable:!1}]:[],e.alwaysShowQuestion?[{key:"alwaysShow",text:e.alwaysShowQuestion.alwaysShow?"\u53d6\u6d88\u5217\u8868\u4e2d\u59cb\u7ec8\u663e\u793a\u8ba8\u8bba\u63cf\u8ff0":"\u5217\u8868\u4e2d\u59cb\u7ec8\u663e\u793a\u8ba8\u8bba\u63cf\u8ff0",onClick:e.alwaysShowQuestion.toggleQuestionAlwaysShow,inCancelPhase:e.alwaysShowQuestion.alwaysShow}]:[],e.alwaysExpandQuestion?[{key:"alwaysExpand",text:e.alwaysExpandQuestion.alwaysExpand?"\u53d6\u6d88\u59cb\u7ec8\u5c55\u5f00\u8ba8\u8bba\u63cf\u8ff0":"\u59cb\u7ec8\u5c55\u5f00\u8ba8\u8bba\u63cf\u8ff0",onClick:e.alwaysExpandQuestion.toggleQuestionAlwaysExpand,inCancelPhase:e.alwaysExpandQuestion.alwaysExpand}]:[],e.auth?[{key:"official",text:e.auth.official?"\u53d6\u6d88\u5b98\u65b9":"\u8bbe\u4e3a\u5b98\u65b9",onClick:e.auth.toggleOfficial,inCancelPhase:e.auth.official}]:[],e.selection?[{key:"pick",text:e.selection.picked?"\u53d6\u6d88\u7cbe\u9009":"\u8bbe\u4e3a\u7cbe\u9009",onClick:e.selection.togglePicked,inCancelPhase:e.selection.picked}]:[],e.recommend?[{key:"recommend",text:e.recommend.recommended?"\u53d6\u6d88\u63a8\u8350":"\u8bbe\u4e3a\u63a8\u8350",onClick:e.recommend.toggleRecommended,inCancelPhase:e.recommend.recommended}]:[],e.recommendGlobally?[{key:"recommendGlobally",text:e.recommendGlobally.recommendedGlobally?"\u53d6\u6d88\u9996\u9875\u63a8\u8350":"\u9996\u9875\u63a8\u8350",onClick:e.recommendGlobally.toggleRecommendedGlobally,inCancelPhase:e.recommendGlobally.recommendedGlobally}]:[],e.pinSite?[{key:"pinnedGlobally",text:e.pinSite.pinnedGlobally?"\u53d6\u6d88\u5168\u7ad9\u7f6e\u9876":"\u5168\u7ad9\u7f6e\u9876",onClick:e.pinSite.togglePinnedGlobally,inCancelPhase:e.pinSite.pinnedGlobally}]:[],e.pin?[{key:"pinned",text:(e.pin.pinnedInSubject?"\u53d6\u6d88":"")+(e.pin.text||"\u8bdd\u9898\u5185\u7f6e\u9876"),onClick:e.pin.togglePinnedInSubject,inCancelPhase:e.pin.pinnedInSubject}]:[],e.sink?[{key:"sunk",text:e.sink.sunk?"\u53d6\u6d88\u4e0b\u6c89":"\u4e0b\u6c89",onClick:e.sink.toggleSunk,inCancelPhase:e.sink.sunk}]:[],e.withdraw?[{key:"withdraw",text:"\u4e0b\u7ebf",onClick:a,selectable:!1}]:[],[{key:"mute",text:u.a.createElement(g.a,{contentType:e.type,uuid:e.uuid,value:e.status!==v.p.Muted}),onClick:void 0,selectable:!1},{key:"delete",text:"\u5220\u9664",onClick:n,selectable:!1}],(null!==(o=e.canEdit)&&void 0!==o?o:e.isAuthor)?[]:[{key:"report",text:"\u4e3e\u62a5",onClick:t,selectable:!1}],e.articleFeedback?[{key:"feedback",text:"\u53cd\u9988",onClick:i}]:[])}(e,w,P,V,J),ee=$.filter((function(e){var t=e.selectable,n=void 0===t||t,a=e.inCancelPhase;return n&&(void 0!==a&&a)})).map((function(e){return e.key})),te=Object(c.useCallback)((function(){e.onDelete(),D()}),[e.onDelete]),ne=Object(c.useMemo)((function(){var n,a;if(null===t||void 0===t?void 0:t.commonNojPermissionTypes.includes(v.Qb.ColumnsReview))return u.a.createElement(j.a,{selectedKeys:ee},$.map((function(e){var t=e.text,n=e.key,a=e.onClick;return u.a.createElement(j.a.Item,{key:n,onClick:a},t)})));var r=e.articleFeedback?u.a.createElement(I,{size:"sm",kind:"transparent",onClick:J},"\u53cd\u9988"):null;return(null!==(n=e.canEdit)&&void 0!==n?n:e.isAuthor)?u.a.createElement(C,null,e.onEdit&&u.a.createElement(I,{size:"sm",kind:"transparent",onClick:e.onEdit},"\u7f16\u8f91"),!(null===(a=e.disabledOperation)||void 0===a?void 0:a.includes(R.b.FeatureRequest))&&e.requestToFeatured&&u.a.createElement(I,{size:"sm",kind:"transparent",onClick:N},"\u7533\u8bf7\u7cbe\u9009"),u.a.createElement(I,{size:"sm",kind:"transparent",onClick:e.requestToDelete?W:P},e.requestToDelete?"\u7533\u8bf7\u5220\u9664":"\u5220\u9664"),r):u.a.createElement(u.a.Fragment,null,u.a.createElement(I,{size:"sm",kind:"transparent",onClick:w},"\u4e3e\u62a5"),r)}),[e,ee,N,W,P,w,t,$,J]),ae=Object(c.useCallback)((function(){e.requestToFeatured&&e.requestToFeatured(),B()}),[e.requestToFeatured]),re=Object(c.useCallback)((function(){Y.current&&(Y.current.value.trim().length?(e.requestToDelete&&e.requestToDelete(Y.current.value.trim()),Q(),Y.current.value):i.b.error("\u8bf7\u8f93\u5165\u7533\u8bf7\u7406\u7531"))}),[e.requestToDelete]),ie=Object(r.__read)(u.a.useState(!1),2),oe=ie[0],ce=ie[1];return u.a.createElement(u.a.Fragment,null,u.a.createElement(y.a,{content:u.a.createElement("div",{onClick:f.c},ne),isActive:oe&&!!Z.isSignedIn,onChangeActive:ce,trigger:Object(d.q)()?"click":"hover"},u.a.createElement(E,{kind:e.buttonKind||"transparent",prefixIcon:u.a.createElement(b.a,{type:"ellipsis"}),size:"sm",disabled:!Z.isSignedIn,onClick:f.c})),u.a.createElement(m.a,{visible:a,resourceId:e.resourceId,resourceType:e.resourceType,onClose:x,onOk:e.onReport}),e.requestToFeatured&&u.a.createElement(O.a,{visible:F,onOk:ae,onClose:B},"\u60a8\u786e\u5b9a\u4e3a\u8be5",q[e.type],"\u7533\u8bf7\u7cbe\u9009\u5417\uff1f"),u.a.createElement(O.a,{type:"threat",visible:k,onOk:te,onClose:D},"\u60a8\u786e\u5b9a\u5220\u9664\u8be5",q[e.type],"\u5417\uff1f"),u.a.createElement(O.a,{visible:M,onOk:re,onClose:Q,title:"\u7533\u8bf7\u5220\u9664"+q[e.type]},u.a.createElement(S,{placeholder:"\u8bf7\u8f93\u5165\u5220\u9664\u7684\u7406\u7531",innerRef:Y})),e.withdraw&&u.a.createElement(_.a,{visible:G,warningText:"\u6587\u7ae0\u4e0b\u7ebf\u540e\u5c06\u9000\u56de\u81f3\u7528\u6237\u8349\u7a3f",resourceType:e.resourceType,resourceId:e.resourceId,onClose:H,flagStatus:v.gb.EditRequested,onOk:e.withdraw.onWithdrawOk}),e.articleFeedback&&u.a.createElement(h.a,{isActive:X,onClose:U,articleSlug:e.articleFeedback.slug,articleTitle:e.articleFeedback.title}))}))},QR8y:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n("D57K"),r=n("ERkP"),i=n.n(r),o=n("ildc"),c=n("e96/"),u=n("y9rd"),d=n("6V3P"),s=n("Po8h");function l(e){var t=e.link,n=e.onClick,l=Object(a.__rest)(e,["link","onClick"]),p=Object(r.useCallback)((function(e){t&&c.a.copy(t,(function(){u.a.success("\u5df2\u590d\u5236\u5206\u4eab\u94fe\u63a5")})),null===n||void 0===n||n(e)}),[t,n]);return i.a.createElement(s.d,Object(a.__assign)({},l,{kind:"transparent",prefixIcon:i.a.createElement(d.a,null),onClick:p}),Object(o.q)()?"":"\u5206\u4eab")}},Qj05:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={provide:new(n("5/dZ").c)("DiscussHistory"),useValue:null}},Ti8K:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return c}));var a=n("pu3o"),r=n("zCf4"),i=n("YnR9").a.main.paths;function o(e){var t=e.bookSlug,n=e.pageId,r=e.discussionId;return n?i.leetbook.read({bookSlug:t,pageId:n})+Object(a.stringify)({discussion:r},{addQueryPrefix:!0}):i.leetbook.detail({bookSlug:t})}function c(){var e=Object(r.i)().search,t=Object(a.parse)(e,{ignoreQueryPrefix:!0}).discussion;return"string"===typeof t?t:null}},Tndj:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("nnm9"),r=n.n(a),i=n("ERkP"),o=Object(i.createContext)(r.a)},W4BP:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"f",(function(){return d})),n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return f}));var a=n("34li"),r=function(e){return e.filter((function(e){return e.status!==a.p.Deleted}))};function i(e,t,n){return e&&n?{slug:n.profile.userSlug,name:n.profile.realName||n.username,avatar:n.profile.userAvatar}:{slug:t.userSlug,name:t.realName||t.username,avatar:t.avatar}}var o=n("D57K"),c=n("uZih"),u=n.n(c),d=function(e){var t,n=e.uuid,a=e.slug,r=e.articleType,c=e.createdAt,d=e.thumbnail,s=e.summary,l=e.status,p=e.pinned,f=e.sunk,b=e.isEditorsPick,O=e.identifier,j=e.resourceType,y=e.content,g=e.contentAuthor,m=e.realAuthor,_=e.reactionType,h=e.reactionsV2,v=e.isMyFavorite,w=e.favoriteCount,x=e.topic,A=e.parent,k=e.isAnonymous,E=e.canEdit,S=e.totalRepliesNum,C=e.replyTo,I=Object(o.__rest)(e,["uuid","slug","articleType","createdAt","thumbnail","summary","status","pinned","sunk","isEditorsPick","identifier","resourceType","content","contentAuthor","realAuthor","reactionType","reactionsV2","isMyFavorite","favoriteCount","topic","parent","isAnonymous","canEdit","totalRepliesNum","replyTo"]);return Object(o.__assign)(Object(o.__assign)({},I),{uuid:n,slug:a,topicId:x&&x.id,articleType:r,createdAt:c,thumbnail:d,summary:s,pinned:p,sunk:!!f,commentCount:x&&x.commentCount||0,lastCommentCreatedAtInSec:x&&x.lastComment&&x.lastComment.post.creationDate,reactionType:_,reactionsV2:h||[],favored:v,favoriteCount:w,picked:b,status:l,identifier:O,resourceType:j,content:y,canEdit:E,score:A&&A.score||0,author:i(k,g,m),isAnonymous:k,parent:{uuid:A&&A.uuid||"",title:A&&A.title||"",pinned:!(!A||!A.pinned),pinnedGlobally:!(!A||!A.pinnedGlobally),tags:null!==(t=null===A||void 0===A?void 0:A.tags)&&void 0!==t?t:[]},totalRepliesNum:S,replyTo:C?Object(o.__assign)(Object(o.__assign)({},u()(C,["contentAuthor","realAuthor"])),{author:i(C.isAnonymous,C.contentAuthor,C.realAuthor)}):null})},s=function(e){return function(t){Object.keys(t.data.data).forEach((function(n){e.test(n)&&t.data.delete(n)}))}},l=function(e,t){return["\u4f5c\u8005\uff1a"+e,"\u94fe\u63a5\uff1ahttps://leetcode-cn.com"+t,"\u6765\u6e90\uff1a\u529b\u6263\uff08LeetCode\uff09","\u8457\u4f5c\u6743\u5f52\u4f5c\u8005\u6240\u6709\u3002\u5546\u4e1a\u8f6c\u8f7d\u8bf7\u8054\u7cfb\u4f5c\u8005\u83b7\u5f97\u6388\u6743\uff0c\u975e\u5546\u4e1a\u8f6c\u8f7d\u8bf7\u6ce8\u660e\u51fa\u5904\u3002"].join("\n")},p=n("ildc"),f=function(e){return Object(p.q)()?"":e}},X7IW:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var a=n("D57K"),r=n("ERkP"),i=n.n(r),o=n("ildc"),c=n("60w7"),u=n("5ZzG"),d=n("uWeL"),s=n("lDZ0"),l=n("gQka"),p=n("Q/bO"),f=n("Po8h"),b=n("QR8y"),O=n("A83I"),j=n("W4BP"),y=i.a.memo((function(e){var t=e.reactionV2,n=e.comment,y=e.share,g=e.favor,m=e.extraButton,_=e.loose,h=void 0!==_&&_,v=e.tailHidden,w=void 0!==v&&v,x=e.reply,A=e.disabledOperation,k=void 0===A?[]:A,E=Object(r.useCallback)((function(e){e.preventDefault(),e.stopPropagation()}),[]),S=!Object(o.q)()&&w;function C(e){return k.includes(e)}return i.a.createElement(f.e,{onClick:E,loose:h},!C(O.b.Reaction)&&t&&i.a.createElement(f.f,null,i.a.createElement(l.a,Object(a.__assign)({},t))),!C(O.b.Comment)&&n&&i.a.createElement(f.d,{kind:"transparent",prefixIcon:i.a.createElement(u.a,{type:n.visible?"chat":"chat-o"}),onClick:n.visible?n.onHide:n.onShow},n.visible?"\u6536\u8d77\u8bc4\u8bba":n.commentCount?Object(c.c)(n.commentCount)+" "+Object(j.e)("\u6761\u8bc4\u8bba"):Object(j.e)("\u8bc4\u8bba")),!C(O.b.Reply)&&x&&i.a.createElement(f.d,{kind:"transparent",prefixIcon:x.isExpanded?i.a.createElement(d.a,null):i.a.createElement(s.a,null),onClick:Object(o.q)()&&0===x.count?void 0:x.onReply},x.count>0?Object(j.e)(x.isExpanded?"\u6536\u8d77":"\u56de\u590d")+" "+Object(c.c)(x.count):Object(j.e)("\u56de\u590d")+(Object(o.q)()?"0":"")),!C(O.b.Favor)&&g&&i.a.createElement(f.c,{"data-hidden":S&&!g.favored},i.a.createElement(f.d,{kind:"transparent",prefixIcon:i.a.createElement(u.a,{type:g.favored?"star":"star-o"}),onClick:g.toggleFavorite},Object(j.e)(g.favored?"\u5df2\u6536\u85cf":"\u6536\u85cf"),Object(o.q)()&&Object(c.c)(g.favoriteCount))),!C(O.b.Share)&&y&&i.a.createElement(f.c,{"data-hidden":S},i.a.createElement(b.a,{link:y.link,onClick:y.onClick})),!C(O.b.AllExtra)&&m&&i.a.createElement(f.c,{"data-hidden":S},i.a.createElement(f.a,null,i.a.createElement(p.a,Object(a.__assign)({},m,{disabledOperation:k})))))}))},"iXo+":function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return b}));var a,r,i=n("D57K"),o=n("f7k3"),c=n("TMWK"),u=n("fgAA"),d=n("IDXw"),s=n("WwGZ"),l=n("7a+J"),p="highlight",f=Object(o.d)(r||(r=Object(i.__makeTemplateObject)(["\n  0% {\n    background-color: ",";\n  }\n  20% {\n    background-color: ",";\n  }\n  50% {\n    background-color: ",";\n  }\n  100% {\n    background-color: ",";\n  }\n"],["\n  0% {\n    background-color: ",";\n  }\n  20% {\n    background-color: ",";\n  }\n  50% {\n    background-color: ",";\n  }\n  100% {\n    background-color: ",";\n  }\n"])),u.b.Paper(),u.b.Primary0(),u.b.Primary0(),u.b.Paper()),b=Object(c.a)("div",{target:"e1r2w7m80"})((function(e){return e.isMobile?{}:Object(o.b)(s.a.layer1,l.a.card,{borderRadius:d.n})}),((a={padding:"16px 16px 0px 16px"})["&."+p]={animation:f+" 1.2s ease-in-out 500ms 2"},a),"label:AnswerDetailWrapper;")},jIGg:function(e,t,n){"use strict";n.d(t,"a",(function(){return U})),n.d(t,"b",(function(){return Y})),n.d(t,"c",(function(){return X}));var a=n("ERkP"),r=n.n(a),i=n("x+QU"),o=n.n(i),c=n("l1SX"),u=n("D57K"),d=n("lGXO"),s=(n("42uY"),n("K/af")),l=n("zCf4"),p=n("ildc"),f=n("Pigy"),b=n("Blax"),O=n("+Aeu"),j=n("D4d+"),y=n("pOZ+"),g=n("XPmh"),m=n("joee"),_=n("66Zf"),h=n("5Nzd"),v=n("u3dr"),w=n("2wT7"),x=n("HnWI"),A=n("9EWH"),k=n("d9YI"),E=n("AouM"),S=n("IMYO"),C=n("Jg5f"),I=n("B07F"),R=n("34li"),q=n("0OXR");function P(){return{loading:!0,answers:[],totalNum:0,pageSize:null,pageNum:1,orderBy:R.Vb.Hottest}}var D,T=function(e){function t(t){var n=e.call(this)||this;return n.client=t,n.defaultState=P(),n}var n,a,r,i,o,c,d,s;return Object(u.__extends)(t,e),t.prototype.resetStore=function(){return P()},t.prototype.setPageNum=function(e,t){e.pageNum=t},t.prototype.setOrderBy=function(e,t){e.orderBy=t},t.prototype._setAnswers=function(e,t){var n=t.nodes,a=t.totalNum,r=t.pageSize;e.loading=!1,e.answers=Object(O.h)(n.map((function(e){return Object(O.l)(e)}))),e.totalNum=a,e.pageSize=r},t.prototype.fetchAnswers=function(e){var t=this;return e.pipe(Object(E.a)((function(e){var n=e.pageNum,a=Object(u.__rest)(e,["pageNum"]);return t.client.watchQuery({query:q.a,variables:Object(u.__assign)(Object(u.__assign)({},a),{pageNum:n-1})}).pipe(Object(S.a)((function(){return k.a})),Object(C.a)((function(e){var n=e.data;return t.getActions()._setAnswers(n.qaAnswerListV2)})))})))},Object(u.__decorate)([Object(v.a)(),Object(u.__metadata)("design:type","function"===typeof(n="undefined"!==typeof x.a&&x.a)?n:Object)],t.prototype,"dispose$",void 0),Object(u.__decorate)([Object(v.d)(),Object(u.__metadata)("design:type",Function),Object(u.__metadata)("design:paramtypes",[]),Object(u.__metadata)("design:returntype",Object)],t.prototype,"resetStore",null),Object(u.__decorate)([Object(v.c)(),Object(u.__metadata)("design:type",Function),Object(u.__metadata)("design:paramtypes",["function"===typeof(a="undefined"!==typeof A.Draft&&A.Draft)?a:Object,Number]),Object(u.__metadata)("design:returntype",void 0)],t.prototype,"setPageNum",null),Object(u.__decorate)([Object(v.c)(),Object(u.__metadata)("design:type",Function),Object(u.__metadata)("design:paramtypes",["function"===typeof(r="undefined"!==typeof A.Draft&&A.Draft)?r:Object,"function"===typeof(i="undefined"!==typeof R.Vb&&R.Vb)?i:Object]),Object(u.__metadata)("design:returntype",void 0)],t.prototype,"setOrderBy",null),Object(u.__decorate)([Object(v.c)(),Object(u.__metadata)("design:type",Function),Object(u.__metadata)("design:paramtypes",["function"===typeof(o="undefined"!==typeof A.Draft&&A.Draft)?o:Object,Object]),Object(u.__metadata)("design:returntype",void 0)],t.prototype,"_setAnswers",null),Object(u.__decorate)([Object(v.b)(),Object(u.__metadata)("design:type",Function),Object(u.__metadata)("design:paramtypes",["function"===typeof(c="undefined"!==typeof x.a&&x.a)?c:Object]),Object(u.__metadata)("design:returntype","function"===typeof(d="undefined"!==typeof x.a&&x.a)?d:Object)],t.prototype,"fetchAnswers",null),t=Object(u.__decorate)([Object(h.a)(),Object(u.__metadata)("design:paramtypes",["function"===typeof(s="undefined"!==typeof I.a&&I.a)?s:Object])],t)}(w.a),F=function(e){function t(t,n){var a=e.call(this)||this;return a.answers=t,a.scrollEffect=n,a.defaultState={},a}var n,a,r,i;return Object(u.__extends)(t,e),t.prototype.fetchAnswerPageInfo=function(e){return e.pipe(this.scrollEffect.fetchAnswerPageInfo(this.answers.getState$(),this.answers.getActions().setPageNum))},Object(u.__decorate)([Object(v.b)(),Object(u.__metadata)("design:type",Function),Object(u.__metadata)("design:paramtypes",["function"===typeof(n="undefined"!==typeof x.a&&x.a)?n:Object]),Object(u.__metadata)("design:returntype","function"===typeof(a="undefined"!==typeof x.a&&x.a)?a:Object)],t.prototype,"fetchAnswerPageInfo",null),t=Object(u.__decorate)([Object(h.a)(),Object(u.__metadata)("design:paramtypes",["function"===typeof(r="undefined"!==typeof T&&T)?r:Object,"function"===typeof(i="undefined"!==typeof O.e&&O.e)?i:Object])],t)}(w.a),N=n("Ti8K"),B=n("lVbi"),z=n("TMWK"),M=n("fgAA"),W=n("CkJS"),Q=Object(z.a)("div",{target:"ex349uk0"})(W.a.paragraph.sm,{flex:"0 0 auto",display:"flex",alignItems:"center",marginLeft:"auto",color:M.b.LabelSecondary(),cursor:"pointer",userSelect:"none",":hover":{color:M.b.PrimaryStandard()}},"label:Container;"),L=((D={})[R.Vb.Hottest]="\u6700\u70ed",D[R.Vb.Latest]="\u6700\u65b0",D);function G(e){var t=e.orderBy,n=e.onChange,i=Object(a.useCallback)((function(){n(t===R.Vb.Hottest?R.Vb.Latest:R.Vb.Hottest)}),[t,n]);return r.a.createElement(Q,{onClick:i},L[t],r.a.createElement(B.a,{size:16}))}var V=n("qTyD"),H=n("HOg7"),K=Object(g.a)(Object(m.a)(V.a,_.a.leetbookReadPickedDiscussButtonExposure),_.a.leetbookReadPickedDiscussButtonClick),X=r.a.memo((function(e){var t=e.questionAuthorSlug,n=e.qaQuestionUuid,i=e.scrollingElementRef,o=Object(u.__read)(Object(s.a)(F),2)[1].fetchAnswerPageInfo,g=Object(u.__read)(Object(s.a)(T),2),m=g[0],h=g[1],v=m.loading,w=m.answers,x=m.totalNum,A=m.pageSize,k=m.pageNum,E=m.orderBy,S=Object(l.j)(),C=S.bookSlug,I=S.pageId,R=Object(N.b)(),q=Object(u.__read)(Object(O.q)(),2),P=q[0],D=q[1];Object(H.a)(w),Object(a.useEffect)((function(){R&&o({answerId:R,effects:[]})}),[R,o]),Object(a.useEffect)((function(){h.fetchAnswers({questionUuid:n,pageNum:k,orderBy:E})}),[h,n,k,E]),Object(a.useEffect)((function(){return h.resetStore}),[h]);var B=Object(O.o)(),z=Object(O.p)(n),M=Object(O.m)({qaQuestionUuid:n,fetchAnswerPageInfo:o}),W=Object(a.useCallback)((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];_.a.leetbookReadPickedDiscussReplyClick(),z.apply(void 0,Object(u.__spread)(e))}),[z]),Q=Object(a.useCallback)((function(e){var t=e.answerId;return Object(N.a)({bookSlug:C,pageId:I,discussionId:t})}),[C,I]),L=Object(a.useCallback)((function(e){h.setPageNum(e),D()}),[h,D]);return r.a.createElement(V.c,null,P,r.a.createElement(V.g,null,r.a.createElement(y.a,{size:20}),"\u8ba8\u8bba\u533a",!Object(p.q)()&&r.a.createElement(K,{kind:"primary",onClick:M},"\u53c2\u4e0e\u8ba8\u8bba")),r.a.createElement(V.f,null,r.a.createElement(V.h,null,"\u5171 ",x," \u4e2a\u8ba8\u8bba"),r.a.createElement(G,{orderBy:E,onChange:h.setOrderBy})),v?r.a.createElement(V.d,null,r.a.createElement(c.a,null)):w.length?r.a.createElement(V.b,null,r.a.createElement(b.a,null,w.map((function(e){return r.a.createElement(j.a,{key:e.uuid,questionAuthorSlug:t,questionAuthorSuffix:"\u521b\u4f5c\u4eba",detail:e,onEdit:B,onReply:W,fetchAnswerPageInfo:o,getCopyLink:C&&I?Q:void 0,forceExpanded:!0,scrollingElementRef:i,disabledOperations:[O.d.Favor,O.d.Share,O.d.FeatureRequest]})}))),A&&r.a.createElement(V.e,null,r.a.createElement(d.a,{total:x,pageSize:A,current:k,onChange:L,showSizeChanger:!1}))):r.a.createElement(V.d,null,r.a.createElement(f.a,{type:"img",description:"\u6682\u65e0\u8ba8\u8bba"})))})),J=function(e){var t=e.error;return t&&console.error(t),r.a.createElement(c.a,{isBlocking:!0,delayTimeToUpdateLoadingCountInMs:500})},U=o()({loader:function(){return Promise.all([n.e(0),n.e(1),n.e(5),n.e(3),n.e(4),n.e(9),n.e(6),n.e(7),n.e(8),n.e(15),n.e(12),n.e(14),n.e(13),n.e(11),n.e(17),n.e(26),n.e(31),n.e(37),n.e(2),n.e(16),n.e(19),n.e(24),n.e(28),n.e(27),n.e(32),n.e(33),n.e(35),n.e(34),n.e(39),n.e(80)]).then(n.bind(null,"yPl1"))},loading:J,webpack:function(){return["yPl1"]},modules:["main-circle"]}),Y=o()({loader:function(){return Promise.all([n.e(0),n.e(1),n.e(5),n.e(3),n.e(4),n.e(9),n.e(6),n.e(7),n.e(8),n.e(15),n.e(12),n.e(14),n.e(13),n.e(11),n.e(17),n.e(26),n.e(31),n.e(2),n.e(16),n.e(19),n.e(24),n.e(28),n.e(27),n.e(35)]).then(n.bind(null,"Oih5"))},loading:J,webpack:function(){return["Oih5"]},modules:["main-circle-editor"]})},qTyD:function(e,t,n){"use strict";n.d(t,"c",(function(){return b})),n.d(t,"g",(function(){return O})),n.d(t,"a",(function(){return j})),n.d(t,"f",(function(){return y})),n.d(t,"h",(function(){return g})),n.d(t,"b",(function(){return m})),n.d(t,"d",(function(){return _})),n.d(t,"e",(function(){return h}));var a,r,i,o,c=n("TMWK"),u=n("fgAA"),d=n("iXo+"),s=n("PbXi"),l=n("2yfB"),p=n("/NrN"),f=n("CkJS"),b=Object(c.a)("div",{target:"efnf8qd0"})({marginTop:"44px"},"label:Container;"),O=Object(c.a)("div",{target:"efnf8qd1"})(f.a.heading.h3,{lineHeight:"25px",fontWeight:500,display:"flex",alignItems:"center",color:u.b.LabelSecondary(),paddingBottom:"18px",borderBottom:"1px solid "+u.b.DividerSecondary(),svg:{marginRight:"8px"}},"label:TitleContainer;"),j=Object(c.a)(p.a,{target:"efnf8qd2"})({flex:"0 0 auto",borderRadius:"5px",marginLeft:"auto"},"label:AnswerButton;"),y=Object(c.a)("div",{target:"efnf8qd3"})({display:"flex",alignItems:"center",padding:"0px 8px",marginTop:"20px"},"label:SorterContainer;"),g=Object(c.a)("div",{target:"efnf8qd4"})(f.a.paragraph.sm,{color:u.b.LabelTertiary()},"label:TotalCount;"),m=Object(c.a)("div",{target:"efnf8qd5"})(((a={})[""+d.a]=((r={padding:"20px 8px 4px 8px",boxShadow:"none",borderRadius:"0px",borderBottom:"1px solid "+u.b.DividerSecondary()})[u.c]={boxShadow:"none",background:u.a.grey(1)},r[""+l.j]=((i={})[u.c]={background:u.a.grey(3)},i),r[""+s.b]=((o={})[u.c]={background:u.a.grey(3)},o),r[""+l.c]={borderTop:"none"},r),a),"label:AnswersContainer;"),_=Object(c.a)("div",{target:"efnf8qd6"})({height:"380px"},"label:DefaultContainer;"),h=Object(c.a)("div",{target:"efnf8qd7"})(l.k,{marginTop:"20px",".ant-pagination":{".ant-pagination-item":{fontSize:"14px",lineHeight:"32px",minWidth:"32px",height:"32px"},".ant-pagination-next, .ant-pagination-prev":{fontSize:"16px",lineHeight:"32px",minWidth:"32px",height:"32px"}}},"label:PaginationContainer;")},wbrp:function(e,t,n){"use strict";n.d(t,"e",(function(){return j})),n.d(t,"a",(function(){return a})),n.d(t,"g",(function(){return E})),n.d(t,"f",(function(){return R})),n.d(t,"b",(function(){return k})),n.d(t,"c",(function(){return ie})),n.d(t,"d",(function(){return _e})),n.d(t,"h",(function(){return xe}));var a,r=n("D57K"),i=n("5Nzd"),o=n("u3dr"),c=n("2wT7"),u=n("9EWH"),d=n("HnWI"),s=n("AouM"),l=n("Jg5f"),p=n("W/Ou"),f=n("RtDN"),b=n("B07F"),O=n("d294"),j=function(e){function t(t){var n=e.call(this)||this;return n.client=t,n.defaultState={isRefreshing:!1,whitelist:[]},n}var n,a,c,j,y;return Object(r.__extends)(t,e),t.prototype.refresh=function(e){var t=this;return e.pipe(Object(s.a)((function(){return t.client.query({query:O.a}).pipe(Object(l.a)((function(e){var n=e.data;return t.getActions()._setWhitelist(n.columnsExternalImgHostWhitelist)})),Object(p.a)(t.getActions()._setIsRefreshing(!0)),Object(f.a)(t.getActions()._setIsRefreshing(!1)))})))},t.prototype._setWhitelist=function(e,t){e.whitelist=t},t.prototype._setIsRefreshing=function(e,t){e.isRefreshing=t},Object(r.__decorate)([Object(o.b)(),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(n="undefined"!==typeof d.a&&d.a)?n:Object]),Object(r.__metadata)("design:returntype","function"===typeof(a="undefined"!==typeof d.a&&d.a)?a:Object)],t.prototype,"refresh",null),Object(r.__decorate)([Object(o.c)(),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(c="undefined"!==typeof u.Draft&&u.Draft)?c:Object,Array]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"_setWhitelist",null),Object(r.__decorate)([Object(o.c)(),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(j="undefined"!==typeof u.Draft&&u.Draft)?j:Object,Boolean]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"_setIsRefreshing",null),t=Object(r.__decorate)([Object(i.a)(),Object(r.__metadata)("design:paramtypes",["function"===typeof(y="undefined"!==typeof b.a&&b.a)?y:Object])],t)}(c.a),y=n("3riI"),g=n("d9YI"),m=n("pN2L"),_=n("eb+u"),h=n("z5yO"),v=n("G2Mx"),w=n("IMYO"),x=n("4HYP"),A=n("roMe");!function(e){e.ExpandReply="ExpandReply"}(a||(a={}));var k,E=function(e){function t(t){var n=e.call(this)||this;return n.client=t,n.defaultState={afterScrollEffects:[],scrollIntoViewAnswerId:null},n.fetchAnswerPageInfo=function(e,t){return function(a){return a.pipe(Object(_.a)(e),Object(s.a)((function(a){var i=a,o=Object(r.__read)(i,2),c=o[0],u=o[1].orderBy,d=c.effects,s=Object(r.__rest)(c,["effects"]);return Object(y.b)([e.pipe(Object(l.a)((function(e){return e.pageSize})),Object(h.a)((function(e){return!!e})),Object(v.a)(1)),n.client.query({query:A.a,variables:Object(r.__assign)(Object(r.__assign)({},s),{orderBy:u}),fetchPolicy:"no-cache"}).pipe(Object(w.a)((function(){return g.a})),Object(l.a)((function(e){return e.data.qaAnswerPageInfo})))]).pipe(Object(x.b)((function(e){var a=Object(r.__read)(e,2),i=a[0],o=a[1],c=Math.ceil((o+1)/i);return Object(m.a)(t(c),n.getActions().setAfterScrollEffects(d),n.getActions().setScrollIntoViewAnswerId(s.answerId))})))})))}},n}var n,a,c;return Object(r.__extends)(t,e),t.prototype.setAfterScrollEffects=function(e,t){e.afterScrollEffects=t},t.prototype.setScrollIntoViewAnswerId=function(e,t){e.scrollIntoViewAnswerId=t},Object(r.__decorate)([Object(o.c)(),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(n="undefined"!==typeof u.Draft&&u.Draft)?n:Object,Array]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"setAfterScrollEffects",null),Object(r.__decorate)([Object(o.c)(),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(a="undefined"!==typeof u.Draft&&u.Draft)?a:Object,Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"setScrollIntoViewAnswerId",null),t=Object(r.__decorate)([Object(i.a)(),Object(r.__metadata)("design:paramtypes",["function"===typeof(c="undefined"!==typeof b.a&&b.a)?c:Object])],t)}(c.a),S=n("OXN9"),C=n("34li"),I=n("W4BP"),R=function(e){function t(t){var n=e.call(this)||this;return n.client=t,n.defaultState={replies:[],loading:!0,totalNum:0,pageNum:1},n}var n,a,c,p,f,O;return Object(r.__extends)(t,e),t.prototype.setPageNum=function(e,t){e.pageNum=t},t.prototype.setReplies=function(e,t){var n=t.totalNum,a=t.nodes;e.replies=Object(I.b)(a.map((function(e){return Object(I.f)(e)}))),e.totalNum=n,e.loading=!1},t.prototype.fetchReplies=function(e,t){var n=this;return e.pipe(Object(_.a)(t),Object(s.a)((function(e){var t=Object(r.__read)(e,2),a=t[0],i=t[1].pageNum;return n.client.watchQuery({query:S.a,variables:Object(r.__assign)(Object(r.__assign)({},a),{orderBy:C.Vb.Latest,pageSize:5,pageNum:i-1})}).pipe(Object(w.a)((function(){return g.a})),Object(l.a)((function(e){var t=e.data;return n.getActions().setReplies(t.qaReplies)})))})))},Object(r.__decorate)([Object(o.c)(),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(n="undefined"!==typeof u.Draft&&u.Draft)?n:Object,Number]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"setPageNum",null),Object(r.__decorate)([Object(o.c)(),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(a="undefined"!==typeof u.Draft&&u.Draft)?a:Object,Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"setReplies",null),Object(r.__decorate)([Object(o.b)(),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(c="undefined"!==typeof d.a&&d.a)?c:Object,"function"===typeof(p="undefined"!==typeof d.a&&d.a)?p:Object]),Object(r.__metadata)("design:returntype","function"===typeof(f="undefined"!==typeof d.a&&d.a)?f:Object)],t.prototype,"fetchReplies",null),t=Object(r.__decorate)([Object(i.a)(),Object(r.__metadata)("design:paramtypes",["function"===typeof(O="undefined"!==typeof b.a&&b.a)?O:Object])],t)}(c.a),q=n("/ebn"),P=n("H8sf"),D=n.n(P),T=n("//nZ"),F=n.n(T),N=n("3dHC"),B=n.n(N),z=n("iJR/"),M=n("U3QC"),W=n("3n3h"),Q=n("icD7"),L=n("Pu0A"),G=n.n(L),V=n("xdqw"),H=n("wUZp"),K=n("I6BV"),X=n("fGMb"),J=n("WSJ0"),U=n("DFG/"),Y=n("eQ0Q"),Z=n("qhMO"),$=n("0OXR"),ee=n("L6nh"),te=n("A83I");!function(e){e.Edit="Edit",e.Preview="Preview"}(k||(k={}));var ne=["content"],ae=Object(V.b)("discuss-answer-editor"),re=function(e){return"draft-"+e},ie=function(e){function t(t){var n=e.call(this)||this;return n.client=t,n.defaultState=oe(null),n}var n,a,c,O,j,y,h,v,w,A,k,E,S,C,R,P,T,N,L,V,ie,ce,ue,de,se,le,pe,fe,be,Oe,je,ye,ge,me,_e,he,ve,we;return Object(r.__extends)(t,e),t.prototype.save=function(e,t){var n=this;return e.pipe(Object(_.a)(t),Object(M.a)((function(e){var t=Object(r.__read)(e,2),n=t[0],a=t[1];if(null===a.uuid&&a.question){var i=D()(F()(a,ne),n);ae.set(re(a.question.uuid),i)}})),Object(l.a)((function(e){var t=Object(r.__read)(e,1)[0];return n.getActions()._save(t)})))},t.prototype._save=function(e,t){var n=Object(r.__assign)(Object(r.__assign)({},e),t),a=!G()(n,e),i=e.isShowLocalDraftTips&&!a;return Object(r.__assign)(Object(r.__assign)({},n),{hasChanged:a,isShowLocalDraftTips:i})},t.prototype.setContent=function(e,t){e.content=t},t.prototype.setDraft=function(e,t){var n=t.content,a=t.questionUuid;ae.set(re(a),{content:n}),e.content=n},t.prototype.setAnonymous=function(e,t){e.anonymous=t},t.prototype.setReplyToAnswerId=function(e,t){e.replyToAnswerId=t},t.prototype.setReplyToAuthorName=function(e,t){e.replyToAuthorName=t},t.prototype.setAfterPublishEffect=function(e,t){e.afterPublishEffect=t},t.prototype.switchMode=function(e,t){e.mode=t},t.prototype.toggleFullscreen=function(e){e.isFullscreen=!e.isFullscreen},t.prototype.hideLocalDraftTips=function(e){e.isShowLocalDraftTips=!1},t.prototype.resetEditor=function(e){var t=this;return e.pipe(Object(x.b)((function(){return Object(m.a)(t.getActions()._reset(),t.getActions()._removeDraft())})))},t.prototype._removeDraft=function(e,t){return e.pipe(Object(_.a)(t),Object(M.a)((function(e){var t=Object(r.__read)(e,2)[1].question;t&&ae.remove(re(t.uuid))})),Object(W.a)(g.a))},t.prototype._reset=function(e){return Object(r.__assign)(Object(r.__assign)({},oe(e.question)),{isShow:!0})},t.prototype.hideEditor=function(e){e.isShow=!1,e.replyToAnswerId=null,e.replyToAuthorName=null,e.afterPublishEffect=null},t.prototype.showEditor=function(e){var t=this;return e.pipe(Object(s.a)((function(e){return t.client.query({query:K.a,variables:{uuid:e}}).pipe(Object(s.a)((function(e){var n=e.data;return n.qaQuestion?Object(m.a)(t.getActions()._showEditor(n.qaQuestion)):g.a})),Object(p.a)(t.getActions()._setIsRestoring(!0)),Object(f.a)(t.getActions()._setIsRestoring(!1)))})))},t.prototype._showEditor=function(e,t){var n=(ae.get(re(t.uuid))||{}).content,a=void 0===n?"":n;return Object(r.__assign)(Object(r.__assign)({},oe(t)),{isShow:!0,isShowLocalDraftTips:!!a,content:a,replyToAnswerId:e.replyToAnswerId,replyToAuthorName:e.replyToAuthorName,afterPublishEffect:e.afterPublishEffect})},t.prototype.restoreEditor=function(e){var t=this;return e.pipe(Object(s.a)((function(e){return t.client.query({query:X.a,variables:{uuid:e}}).pipe(Object(s.a)((function(e){var n=e.data;return n&&n.qaAnswer?Object(m.a)(t.getActions()._restore(Object(I.f)(n.qaAnswer))):g.a})),Object(H.a)("\u6062\u590d\u7f16\u8f91\u5185\u5bb9\u5931\u8d25"),Object(p.a)(t.getActions()._setIsRestoring(!0)),Object(f.a)(t.getActions()._setIsRestoring(!1)))})))},t.prototype._restore=function(e,t){var n,a,i,o;return Object(r.__assign)(Object(r.__assign)({},oe(t.parent||null)),{isShow:!0,content:t.content,uuid:t.uuid,isPicked:t.picked,anonymous:t.isAnonymous,replyToAnswerId:null!==(a=null===(n=t.replyTo)||void 0===n?void 0:n.uuid)&&void 0!==a?a:null,replyToAuthorName:null!==(o=null===(i=t.replyTo)||void 0===i?void 0:i.author.name)&&void 0!==o?o:null,afterPublishEffect:e.afterPublishEffect})},t.prototype._setIsRestoring=function(e,t){e.isRestoring=t},t.prototype.publish=function(e,t){return this._publish({trigger$:e,state$:t,mutation:J.a})},t.prototype.mock=function(e,t){return this._publish({trigger$:e,state$:t,mutation:U.a})},t.prototype.update=function(e){var t=this;return e.pipe(Object(s.a)((function(e){return e.pipe(Object(s.a)((function(e){return t.client.mutate({variables:e,mutation:Y.a}).pipe(Object(H.a)("\u66f4\u65b0\u8ba8\u8bba\u5931\u8d25"),Object(l.a)((function(e){var t=e.data;return t&&t.qaEditAnswer})),Object(s.a)((function(e){return e&&e.answer?Object(m.a)(t.getActions().hideEditor()):g.a})),Object(p.a)(t.getActions()._setIsSubmitting(!0)),Object(f.a)(t.getActions()._setIsSubmitting(!1)))})))})))},t.prototype._setIsSubmitting=function(e,t){e.isSubmitting=t},t.prototype.addAnswerNodeReplyCount=function(e){var t=this;return e.pipe(Object(M.a)((function(e){var n="QAAnswerNode:"+e;try{var a=t.client.readFragment({id:n,fragmentName:"qaAnswer",fragment:Z.a});a&&t.client.writeFragment({id:n,fragment:Z.a,fragmentName:"qaAnswer",data:Object(r.__assign)(Object(r.__assign)({},a),{totalRepliesNum:a.totalRepliesNum+1})})}catch(e){}})),Object(Q.a)())},t.prototype._publish=function(e){var t=this,n=e.trigger$,a=e.state$,i=e.mutation;return n.pipe(Object(s.a)((function(e){return e.pipe(Object(s.a)((function(e){return t.client.mutate({variables:e,mutation:i,update:Object(I.a)(/qaAnswerListV2|qaReplies/),refetchQueries:B()([Object(q.n)($.a)])}).pipe(Object(H.a)("\u53d1\u5e03\u8ba8\u8bba\u5931\u8d25"),Object(l.a)((function(e){var t=e.data;if(t)return"qaPublishAnswer"in t?t.qaPublishAnswer:"qaOfficialPublishAnswer"in t?t.qaOfficialPublishAnswer:void 0})),Object(_.a)(a),Object(M.a)((function(e){var t=Object(r.__read)(e,2),n=t[0],a=t[1].afterPublishEffect;(null===n||void 0===n?void 0:n.answer)&&(null===a||void 0===a||a(n.answer.uuid))})),Object(s.a)((function(n){var a=Object(r.__read)(n,1)[0];if(a&&a.answer){var i=[t.getActions().hideEditor(),t.getActions()._removeDraft()];return e.data.replyTo&&i.push(t.getActions().addAnswerNodeReplyCount(e.data.replyTo)),Object(z.a)(i)}return g.a})),Object(p.a)(t.getActions()._setIsSubmitting(!0)),Object(f.a)(t.getActions()._setIsSubmitting(!1)))})))})))},Object(r.__decorate)([Object(o.b)(),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(n="undefined"!==typeof d.a&&d.a)?n:Object,"function"===typeof(a="undefined"!==typeof d.a&&d.a)?a:Object]),Object(r.__metadata)("design:returntype","function"===typeof(c="undefined"!==typeof d.a&&d.a)?c:Object)],t.prototype,"save",null),Object(r.__decorate)([Object(o.d)(),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",[Object,"function"===typeof(O="undefined"!==typeof SaveInput&&SaveInput)?O:Object]),Object(r.__metadata)("design:returntype",Object)],t.prototype,"_save",null),Object(r.__decorate)([Object(o.c)(),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(j="undefined"!==typeof u.Draft&&u.Draft)?j:Object,String]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"setContent",null),Object(r.__decorate)([Object(o.c)(),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(y="undefined"!==typeof u.Draft&&u.Draft)?y:Object,Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"setDraft",null),Object(r.__decorate)([Object(o.c)(),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(h="undefined"!==typeof u.Draft&&u.Draft)?h:Object,Boolean]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"setAnonymous",null),Object(r.__decorate)([Object(o.c)(),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(v="undefined"!==typeof u.Draft&&u.Draft)?v:Object,String]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"setReplyToAnswerId",null),Object(r.__decorate)([Object(o.c)(),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(w="undefined"!==typeof u.Draft&&u.Draft)?w:Object,Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"setReplyToAuthorName",null),Object(r.__decorate)([Object(o.c)(),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(A="undefined"!==typeof u.Draft&&u.Draft)?A:Object,Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"setAfterPublishEffect",null),Object(r.__decorate)([Object(o.c)(),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(k="undefined"!==typeof u.Draft&&u.Draft)?k:Object,String]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"switchMode",null),Object(r.__decorate)([Object(o.c)(),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(E="undefined"!==typeof u.Draft&&u.Draft)?E:Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"toggleFullscreen",null),Object(r.__decorate)([Object(o.c)(),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(S="undefined"!==typeof u.Draft&&u.Draft)?S:Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"hideLocalDraftTips",null),Object(r.__decorate)([Object(o.b)(),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(C="undefined"!==typeof d.a&&d.a)?C:Object]),Object(r.__metadata)("design:returntype","function"===typeof(R="undefined"!==typeof d.a&&d.a)?R:Object)],t.prototype,"resetEditor",null),Object(r.__decorate)([Object(o.b)(),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(P="undefined"!==typeof d.a&&d.a)?P:Object,"function"===typeof(T="undefined"!==typeof d.a&&d.a)?T:Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"_removeDraft",null),Object(r.__decorate)([Object(o.d)(),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",[Object]),Object(r.__metadata)("design:returntype",Object)],t.prototype,"_reset",null),Object(r.__decorate)([Object(o.c)(),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(N="undefined"!==typeof u.Draft&&u.Draft)?N:Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"hideEditor",null),Object(r.__decorate)([Object(o.b)(),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(L="undefined"!==typeof d.a&&d.a)?L:Object]),Object(r.__metadata)("design:returntype","function"===typeof(V="undefined"!==typeof d.a&&d.a)?V:Object)],t.prototype,"showEditor",null),Object(r.__decorate)([Object(o.d)(),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",[Object,"function"===typeof(ie="undefined"!==typeof ee.QaQuestionDetail&&ee.QaQuestionDetail.QaQuestion)?ie:Object]),Object(r.__metadata)("design:returntype",Object)],t.prototype,"_showEditor",null),Object(r.__decorate)([Object(o.b)(),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(ce="undefined"!==typeof d.a&&d.a)?ce:Object]),Object(r.__metadata)("design:returntype","function"===typeof(ue="undefined"!==typeof d.a&&d.a)?ue:Object)],t.prototype,"restoreEditor",null),Object(r.__decorate)([Object(o.d)(),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(de="undefined"!==typeof u.Draft&&u.Draft)?de:Object,"function"===typeof(se="undefined"!==typeof te.Answer&&te.Answer)?se:Object]),Object(r.__metadata)("design:returntype",Object)],t.prototype,"_restore",null),Object(r.__decorate)([Object(o.c)(),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(le="undefined"!==typeof u.Draft&&u.Draft)?le:Object,Boolean]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"_setIsRestoring",null),Object(r.__decorate)([Object(o.b)(),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(pe="undefined"!==typeof d.a&&d.a)?pe:Object,"function"===typeof(fe="undefined"!==typeof d.a&&d.a)?fe:Object]),Object(r.__metadata)("design:returntype","function"===typeof(be="undefined"!==typeof d.a&&d.a)?be:Object)],t.prototype,"publish",null),Object(r.__decorate)([Object(o.b)(),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(Oe="undefined"!==typeof d.a&&d.a)?Oe:Object,"function"===typeof(je="undefined"!==typeof d.a&&d.a)?je:Object]),Object(r.__metadata)("design:returntype","function"===typeof(ye="undefined"!==typeof d.a&&d.a)?ye:Object)],t.prototype,"mock",null),Object(r.__decorate)([Object(o.b)(),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(ge="undefined"!==typeof d.a&&d.a)?ge:Object]),Object(r.__metadata)("design:returntype","function"===typeof(me="undefined"!==typeof d.a&&d.a)?me:Object)],t.prototype,"update",null),Object(r.__decorate)([Object(o.c)(),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(_e="undefined"!==typeof u.Draft&&u.Draft)?_e:Object,Boolean]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"_setIsSubmitting",null),Object(r.__decorate)([Object(o.b)(),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(he="undefined"!==typeof d.a&&d.a)?he:Object]),Object(r.__metadata)("design:returntype","function"===typeof(ve="undefined"!==typeof d.a&&d.a)?ve:Object)],t.prototype,"addAnswerNodeReplyCount",null),t=Object(r.__decorate)([Object(i.a)(),Object(r.__metadata)("design:paramtypes",["function"===typeof(we="undefined"!==typeof b.a&&b.a)?we:Object])],t)}(c.a);function oe(e){return{isShow:!1,isFullscreen:!1,isSubmitting:!1,isRestoring:!1,hasChanged:!1,isShowLocalDraftTips:!1,mode:k.Edit,question:e,content:"",uuid:null,isPicked:!1,anonymous:!1,replyToAnswerId:null,replyToAuthorName:null,afterPublishEffect:null}}var ce=n("DuHN"),ue=(n("IJu9"),n("rzNM")),de=n("mlcS"),se=n("ynm0"),le=n("pNJ9"),pe=n("mbTx"),fe=n("3J0q"),be=n("ASxh"),Oe=n("6Hwb"),je=n("jocQ"),ye=n("rvHU"),ge=n("8S98"),me=n("VxrX"),_e=function(e){function t(t){var n=e.call(this)||this;return n.client=t,n.defaultState={},n}var n,a,c,u,s,l,p,f,O,j,y,m,_,h,v;return Object(r.__extends)(t,e),t.prototype.toggleSunk=function(e){var t=this;return e.pipe(Object(ue.a)((function(e){return t.client.mutate({mutation:de.a,variables:e,update:function(e,t){var n,a=t.data;he(e,null===(n=null===a||void 0===a?void 0:a.qaToggleSunk)||void 0===n?void 0:n.questionAnswer)}}).pipe(Object(H.a)(e.sunk?"\u4e0b\u6c89\u5931\u8d25":"\u53d6\u6d88\u4e0b\u6c89\u5931\u8d25"),Object(x.b)((function(){return g.a})))})))},t.prototype.togglePinAnswerInQuestion=function(e){var t=this;return e.pipe(Object(ue.a)((function(e){return t.client.mutate({mutation:se.a,variables:e,update:function(e,t){var n,a=t.data;he(e,null===(n=null===a||void 0===a?void 0:a.qaTogglePinAnswerInQuestion)||void 0===n?void 0:n.answer)}}).pipe(Object(H.a)(e.pinned?"\u677f\u5757\u5185\u7f6e\u9876\u5931\u8d25":"\u53d6\u6d88\u677f\u5757\u5185\u7f6e\u9876\u5931\u8d25"),Object(M.a)((function(){e.pinned?me.a.discuss.discussPinAnswerInQuestion(e.answerId):me.a.discuss.discussCancelPinAnswerInQuestion(e.answerId)})),Object(x.b)((function(){return g.a})))})))},t.prototype.deleteAnswer=function(e){var t=this;return e.pipe(Object(ue.a)((function(e){var n=e.answerId;return t.client.mutate({mutation:le.a,variables:{uuid:n},update:function(e,t){var n,a=t.data;he(e,null===(n=null===a||void 0===a?void 0:a.qaDeleteAnswer)||void 0===n?void 0:n.answer)}}).pipe(Object(H.a)("\u5220\u9664\u8ba8\u8bba\u5931\u8d25"),Object(M.a)((function(){return me.a.discuss.discussDeleteArticle(n)})),Object(x.b)((function(){return g.a})))})))},t.prototype.managementDeleteAnswer=function(e){var t=this;return e.pipe(Object(ue.a)((function(e){var n=e.answerId;return t.client.mutate({mutation:pe.a,variables:{uuid:n},fallbackErrorMessageForUnknownError:"\u5220\u9664\u8ba8\u8bba\u5931\u8d25",update:function(e,t){var n,a=t.data;he(e,null===(n=null===a||void 0===a?void 0:a.qaManagementDeleteAnswer)||void 0===n?void 0:n.answer)}}).pipe(Object(w.a)((function(){return g.a})),Object(M.a)((function(){return me.a.discuss.discussDeleteArticle(n)})),Object(x.b)((function(){return g.a})))})))},t.prototype.togglePickedAnswer=function(e){var t=this;return e.pipe(Object(ue.a)((function(e){return t.client.mutate({mutation:fe.a,variables:e,update:function(e,t){var n,a=t.data;he(e,null===(n=null===a||void 0===a?void 0:a.qaSetAnswerAsEditorsPick)||void 0===n?void 0:n.answer)}}).pipe(Object(H.a)(e.value?"\u8bbe\u4e3a\u7cbe\u9009\u5931\u8d25":"\u53d6\u6d88\u8bbe\u4e3a\u7cbe\u9009\u5931\u8d25"),Object(M.a)((function(){e.value?me.a.discuss.discussAnswerSetPicked(e.uuid):me.a.discuss.discussAnswerCancelSetPicked(e.uuid)})),Object(x.b)((function(){return g.a})))})))},t.prototype.toggleAnswerReaction=function(e){var t=this;return e.pipe(Object(ue.a)((function(e){var n=e.articleId,a=e.reactionType,r=a?be.a:Oe.a,i=a?{articleId:n,reactionType:a}:{articleId:n},o=a?"\u6dfb\u52a0\u8ba8\u8bba\u53cd\u54cd\u5931\u8d25":"\u53d6\u6d88\u8ba8\u8bba\u53cd\u54cd\u5931\u8d25";return t.client.mutate({mutation:r,variables:i}).pipe(Object(H.a)(o),Object(M.a)((function(){a?me.a.discuss.discussAnswerAddReaction(n):me.a.discuss.discussAnswerRemoveReaction(n)})),Object(x.b)((function(){return g.a})))})))},t.prototype.toggleAnswerFavorite=function(e){var t=this;return e.pipe(Object(ue.a)((function(e){var n=e.answerId,a=e.favored,r=a?je.a:ye.a,i=a?"\u6536\u85cf\u8ba8\u8bba\u5931\u8d25":"\u53d6\u6d88\u6536\u85cf\u8ba8\u8bba\u5931\u8d25";return t.client.mutate({mutation:r,variables:{answerId:n}}).pipe(Object(H.a)(i),Object(M.a)((function(){a?(me.a.discuss.discussAnswerAddFavorite(n),ce.b.success("\u5df2\u6536\u85cf")):(me.a.discuss.discussAnswerRemoveFavorite(n),ce.b.success("\u5df2\u53d6\u6d88\u6536\u85cf"))})),Object(x.b)((function(){return g.a})))})))},Object(r.__decorate)([Object(o.b)(),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(n="undefined"!==typeof d.a&&d.a)?n:Object]),Object(r.__metadata)("design:returntype","function"===typeof(a="undefined"!==typeof d.a&&d.a)?a:Object)],t.prototype,"toggleSunk",null),Object(r.__decorate)([Object(o.b)(),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(c="undefined"!==typeof d.a&&d.a)?c:Object]),Object(r.__metadata)("design:returntype","function"===typeof(u="undefined"!==typeof d.a&&d.a)?u:Object)],t.prototype,"togglePinAnswerInQuestion",null),Object(r.__decorate)([Object(o.b)(),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(s="undefined"!==typeof d.a&&d.a)?s:Object]),Object(r.__metadata)("design:returntype","function"===typeof(l="undefined"!==typeof d.a&&d.a)?l:Object)],t.prototype,"deleteAnswer",null),Object(r.__decorate)([Object(o.b)(),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(p="undefined"!==typeof d.a&&d.a)?p:Object]),Object(r.__metadata)("design:returntype","function"===typeof(f="undefined"!==typeof d.a&&d.a)?f:Object)],t.prototype,"managementDeleteAnswer",null),Object(r.__decorate)([Object(o.b)(),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(O="undefined"!==typeof d.a&&d.a)?O:Object]),Object(r.__metadata)("design:returntype","function"===typeof(j="undefined"!==typeof d.a&&d.a)?j:Object)],t.prototype,"togglePickedAnswer",null),Object(r.__decorate)([Object(o.b)(),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(y="undefined"!==typeof d.a&&d.a)?y:Object]),Object(r.__metadata)("design:returntype","function"===typeof(m="undefined"!==typeof d.a&&d.a)?m:Object)],t.prototype,"toggleAnswerReaction",null),Object(r.__decorate)([Object(o.b)(),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(_="undefined"!==typeof d.a&&d.a)?_:Object]),Object(r.__metadata)("design:returntype","function"===typeof(h="undefined"!==typeof d.a&&d.a)?h:Object)],t.prototype,"toggleAnswerFavorite",null),t=Object(r.__decorate)([Object(i.a)(),Object(r.__metadata)("design:paramtypes",["function"===typeof(v="undefined"!==typeof b.a&&b.a)?v:Object])],t)}(c.a);function he(e,t){if(t){var n="LeetbookPickedDiscussionNode:"+t.uuid,a=e.readFragment({id:n,fragment:ge.a,fragmentName:"leetbookPickedDiscussion"});a&&e.writeFragment({id:n,fragment:ge.a,fragmentName:"leetbookPickedDiscussion",data:Object(r.__assign)(Object(r.__assign)(Object(r.__assign)({},a),t),{__typename:"LeetbookPickedDiscussionNode"})})}}var ve=n("fgzu"),we=n("f9L7"),xe=function(e){function t(t){var n=e.call(this)||this;return n.client=t,n.defaultState={},n}var n,a,c;return Object(r.__extends)(t,e),t.prototype.setFeaturedRequest=function(e){var t=this;return e.pipe(Object(ue.a)((function(e){return t.client.mutate({mutation:we.a,variables:e}).pipe(Object(H.a)("\u7533\u8bf7\u63d0\u4ea4\u5931\u8d25"),Object(M.a)((function(){return ve.a.success("\u7533\u8bf7\u63d0\u4ea4\u6210\u529f")})),Object(x.b)((function(){return g.a})))})))},Object(r.__decorate)([Object(o.b)(),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(n="undefined"!==typeof d.a&&d.a)?n:Object]),Object(r.__metadata)("design:returntype","function"===typeof(a="undefined"!==typeof d.a&&d.a)?a:Object)],t.prototype,"setFeaturedRequest",null),t=Object(r.__decorate)([Object(i.a)(),Object(r.__metadata)("design:paramtypes",["function"===typeof(c="undefined"!==typeof b.a&&b.a)?c:Object])],t)}(c.a)},zF28:function(e,t,n){"use strict";n.d(t,"c",(function(){return g})),n.d(t,"b",(function(){return m})),n.d(t,"d",(function(){return _})),n.d(t,"e",(function(){return v})),n.d(t,"a",(function(){return w})),n.d(t,"f",(function(){return A}));var a=n("D57K"),r=n("K/af"),i=n("H8sf"),o=n.n(i),c=n("ERkP"),u=n.n(c),d=n("zCf4"),s=n("YnR9"),l=n("xqpu"),p=n("UqMZ"),f=n("34li"),b=n("VxrX"),O=n("wbrp"),j=s.a.main.paths,y=function(e,t,n){var r=e.slug,i=e.uuid,o=e.author,c=e.reactionType,u=e.reactionsV2,d=e.favored,s=e.picked,l=e.parent,O=e.articleType,y=e.identifier,g=e.resourceType,m=e.pinned,_=e.sunk,h=e.canEdit,v=e.favoriteCount,w=e.status,x=o&&o.slug,A=n.userSlug===x;return{reactionV2:Object(a.__assign)({articleId:i,onReact:function(e){var n=e.reactedWith,a=e.articleId,r=e.prevReactedWith,i=r&&n===r?void 0:n;t.toggleAnswerReaction({articleId:a,reactionType:i})},reactedWith:c},u&&u.length?{countMap:new Map(u.map((function(e){return[e.reactionType,e.count]})))}:{}),favor:{favored:d,favoriteCount:v,toggleFavorite:p.a.ensureSignedIn((function(){return t.toggleAnswerFavorite({answerId:i,favored:!d})}),{user:n})},share:{link:"https://leetcode-cn.com"+j.discuss.viewShare({discussId:l.uuid,viewId:i}),onClick:function(){return b.a.discuss.discussShareAnswer(i)}},extraButton:{uuid:i,canEdit:h,isAuthor:A,type:O,resourceId:y,resourceType:g,status:w,requestToFeatured:function(){return t.setFeaturedRequest({slug:r,resourceType:f.cb.Reply})},onDelete:function(){return n.isAdmin?t.managementDeleteAnswer({questionId:l.uuid,answerId:i}):t.deleteAnswer({questionId:l.uuid,answerId:i})},pin:{text:"\u8ba8\u8bba\u5185\u7f6e\u9876",pinnedInSubject:m,togglePinnedInSubject:function(){return t.togglePinAnswerInQuestion({answerId:i,pinned:!m})}},sink:{sunk:_,toggleSunk:function(){return t.toggleSunk({uuid:i,sunk:!_})}},selection:{picked:s,togglePicked:function(){return t.togglePickedAnswer({uuid:i,value:!s})}}}}},g=function(e){var t=Object(d.h)(),n=Object(a.__read)(Object(r.a)(O.d),2)[1],i=Object(a.__read)(Object(r.a)(O.h),2)[1].setFeaturedRequest,o=Object(c.useContext)(l.d),u=y(e,Object(a.__assign)(Object(a.__assign)({},n),{setFeaturedRequest:i}),o),s=e.uuid,p=e.parent,f={reply:{count:e.totalRepliesNum,onReply:function(){return t.push(j.discuss.viewCommentShare({discussId:p.uuid,viewId:s}))}}};return Object(c.useMemo)((function(){return Object(a.__assign)(Object(a.__assign)({},u),f)}),[e,o])},m=function(e){var t=e.answer,n=e.onEdit,i=e.onReply,u=e.isReplyExpanded,d=Object(a.__read)(Object(r.a)(O.d),2)[1],s=Object(a.__read)(Object(r.a)(O.h),2)[1].setFeaturedRequest,p=Object(c.useContext)(l.d),f=y(t,Object(a.__assign)(Object(a.__assign)({},d),{setFeaturedRequest:s}),p),b={extraButton:{onEdit:n},reply:i&&{isExpanded:u,count:t.totalRepliesNum,onReply:i}};return Object(c.useMemo)((function(){return o()({},f,b)}),[t,n,i,p])};function _(){var e=Object(a.__read)(Object(r.a)(O.c),2),t=e[0].isShow,n=e[1];return Object(c.useCallback)((function(e){t?n.hideEditor():n.restoreEditor(e)}),[t,n])}var h=n("ehcH");function v(e){var t=Object(a.__read)(Object(r.a)(O.c),2),n=t[0].isShow,i=t[1],o=Object(c.useContext)(l.d),u=Object(h.b)();return Object(c.useCallback)((function(t,a,r){p.a.ensurePhoneVerified(u((function(){n?i.hideEditor():requestAnimationFrame((function(){i.showEditor(e),i.setReplyToAnswerId(t),i.setReplyToAuthorName(a),i.setAfterPublishEffect(r)}))})),{user:o})()}),[u,n,i,e,o])}function w(e){var t=e.qaQuestionUuid,n=e.fetchAnswerPageInfo,i=e.onReply,o=Object(a.__read)(Object(r.a)(O.c),2),u=o[0].isShow,d=o[1],s=Object(c.useContext)(l.d),f=Object(h.b)();return p.a.ensurePhoneVerified(f((function(){null===i||void 0===i||i(),u?d.hideEditor():requestAnimationFrame((function(){d.setAfterPublishEffect((function(e){n({answerId:e,effects:[]})})),d.setReplyToAuthorName(null),d.setDraft({questionUuid:t,content:""}),d.showEditor(t)}))})),{user:s})}var x=n("+SGW");function A(){var e=Object(c.useRef)(null),t=Object(c.useCallback)((function(){e.current&&Object(x.a)(e.current,{block:"center"})}),[e]);return[u.a.createElement("div",{ref:e}),t]}}}]);